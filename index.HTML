<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Roblox Script Hub</title>
    <style>
        body { 
            font-family: Arial, sans-serif; 
            background-color: #1e1e2f; 
            color: #ffffff; 
            display: flex; 
            flex-direction: column; 
            align-items: center; 
            padding: 20px; 
        }
        .card { 
            background-color: #2a2a3b; 
            color: #fff; 
            padding: 20px; 
            border: 1px solid #444; 
            border-radius: 10px; 
            width: 300px; 
            margin-bottom: 20px; 
        }
        .input, .button { 
            width: 100%; 
            padding: 10px; 
            margin: 5px 0; 
            background-color: #3a3a4f; 
            border: none; 
            color: #fff; 
            border-radius: 5px; 
        }
        .button { 
            cursor: pointer; 
        }
        .button:hover { 
            background-color: #5c5c7d; 
        }
        .script-list {
            width: 80%;
            max-width: 800px;
        }
        .script-item {
            background-color: #2a2a3b;
            padding: 15px;
            margin: 10px 0;
            border-radius: 8px;
        }
        .admin-panel {
            background-color: #2a2a3b;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 20px;
            display: none;
        }
    </style>
</head>
<body>
    <div id="loginCard" class="card">
        <input id="username" class="input" type="text" placeholder="Username">
        <input id="password" class="input" type="password" placeholder="Password">
        <button class="button" onclick="handleLogin()">Login</button>
    </div>

    <div id="homepage" style="display: none;">
        <h1>Welcome to Roblox Script Hub</h1>
        <div class="script-list" id="scriptList">
            <!-- Scripts will be dynamically added here -->
        </div>
        <button class="button" onclick="showUploadPage()">Upload a Script</button>
        <button class="button" onclick="toggleAdminPanel()">Admin Panel</button>
    </div>

    <div id="uploadCard" class="card" style="display: none;">
        <input id="scriptName" type="text" class="input" placeholder="Script Name">
        <label><input type="checkbox" id="keySystem"> Key system?</label>
        <input id="keyLink" type="text" class="input" placeholder="Key Link" style="display: none;">
        <textarea id="scriptContent" class="input" placeholder="Paste your script here..."></textarea>
        <input id="scriptFile" type="file" class="input" accept=".lua,.luau,.txt" onchange="loadFileContent()">
        <button class="button" onclick="handleUpload()">Upload Script</button>
        <button class="button" onclick="showHomePage()">Back to Homepage</button>
    </div>

    <div id="adminPanel" class="admin-panel">
        <h2>Admin Panel</h2>
        <input id="adminPassword" type="password" class="input" placeholder="Enter Admin Password">
        <button class="button" onclick="validateAdmin()">Enter</button>
        <button class="button" onclick="toggleAdminPanel()">Close</button>
        <div id="adminControls" style="display: none;">
            <h3>Banned Scripts</h3>
            <ul id="bannedScripts">
                <!-- Banned scripts will be shown here -->
            </ul>
        </div>
    </div>

    <script>
        // Load previous scripts and login details from localStorage
        window.onload = function() {
            if (localStorage.getItem('isLoggedIn') === 'true') {
                document.getElementById('loginCard').style.display = 'none';
                document.getElementById('homepage').style.display = 'block';
                renderScripts();
            }
        };

        const scripts = JSON.parse(localStorage.getItem('scripts')) || [];
        const bannedScripts = JSON.parse(localStorage.getItem('bannedScripts')) || [];

        // Handle login
        function handleLogin() {
            const username = document.getElementById('username').value;
            const password = document.getElementById('password').value;

            if (username && password) {
                localStorage.setItem('isLoggedIn', 'true');
                localStorage.setItem('username', username);
                document.getElementById('loginCard').style.display = 'none';
                document.getElementById('homepage').style.display = 'block';
                renderScripts();
            }
        }

        // Show the upload page
        function showUploadPage() {
            document.getElementById('homepage').style.display = 'none';
            document.getElementById('uploadCard').style.display = 'block';
        }

        // Show homepage
        function showHomePage() {
            document.getElementById('uploadCard').style.display = 'none';
            document.getElementById('homepage').style.display = 'block';
        }

        // Toggle admin panel
        function toggleAdminPanel() {
            const panel = document.getElementById('adminPanel');
            panel.style.display = panel.style.display === 'block' ? 'none' : 'block';
        }

        // Validate admin password
        function validateAdmin() {
            const password = document.getElementById('adminPassword').value;
            if (password === '5324') {
                document.getElementById('adminControls').style.display = 'block';
            } else {
                alert('Incorrect password!');
            }
        }

        // Handle file upload
        function handleUpload() {
            const scriptName = document.getElementById('scriptName').value;
            const keySystem = document.getElementById('keySystem').checked;
            const keyLink = document.getElementById('keyLink').value;
            const scriptContent = document.getElementById('scriptContent').value;
            const scriptFile = document.getElementById('scriptFile').files[0];

            if (scriptName && (scriptContent || scriptFile)) {
                const script = {
                    name: scriptName,
                    keySystem,
                    keyLink,
                    content: scriptContent || scriptFile?.name
                };

                scripts.push(script);

                // Save scripts to localStorage
                localStorage.setItem('scripts', JSON.stringify(scripts));

                alert('Script uploaded successfully!');
                showHomePage();
                renderScripts();
            }
        }

        // Render scripts
        function renderScripts() {
            const scriptList = document.getElementById('scriptList');
            scriptList.innerHTML = '';

            scripts.forEach((script, index) => {
                if (!bannedScripts.includes(script.name)) {
                    const scriptItem = document.createElement('div');
                    scriptItem.className = 'script-item';
                    scriptItem.innerHTML = `<strong>Script Name:</strong> ${script.name}<br>` +
                        (script.keySystem ? `<strong>Key Link:</strong> <a href="${script.keyLink}" target="_blank">${script.keyLink}</a>` : 'No Key System') +
                        `<br><button class="button" onclick="copyScript(${index})">Copy Script</button>` +
                        `<br><button class="button" onclick="viewScript(${index})">View Script</button>`;
                    scriptList.appendChild(scriptItem);
                }
            });

            // Update banned scripts list in admin panel
            updateBannedScripts();
        }

        // Copy script to clipboard
        function copyScript(index) {
            const script = scripts[index].content;
            navigator.clipboard.writeText(script).then(() => {
                alert('Script copied to clipboard!');
            });
        }

        // View script (warning about potential malicious content)
        function viewScript(index) {
            const script = scripts[index];
            alert(`Warning: Script may be malicious.\n\nScript Name: ${script.name}\nContent: ${script.content}`);
        }

        // Ban a script
        function banScript(scriptName) {
            if (!bannedScripts.includes(scriptName)) {
                bannedScripts.push(scriptName);
                localStorage.setItem('bannedScripts', JSON.stringify(bannedScripts));
                alert(`${scriptName} has been banned.`);
                renderScripts();
            }
        }

        // Update the banned scripts list in the admin panel
        function updateBannedScripts() {
            const bannedScriptsList = document.getElementById('bannedScripts');
            bannedScriptsList.innerHTML = '';

            bannedScripts.forEach((scriptName) => {
                const bannedItem = document.createElement('li');
                bannedItem.innerHTML = `<strong>${scriptName}</strong> <button class="button" onclick="unbanScript('${scriptName}')">Unban</button>`;
                bannedScriptsList.appendChild(bannedItem);
            });
        }

        // Unban a script
        function unbanScript(scriptName) {
            const index = bannedScripts.indexOf(scriptName);
            if (index > -1) {
                bannedScripts.splice(index, 1);
                localStorage.setItem('bannedScripts', JSON.stringify(bannedScripts));
                alert(`${scriptName} has been unbanned.`);
                renderScripts();
            }
        }

        // Load file content into textarea
        function loadFileContent() {
            const fileInput = document.getElementById('scriptFile');
            const textArea = document.getElementById('scriptContent');
            const file = fileInput.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    textArea.value = e.target.result;
                };
                reader.readAsText(file);
            }
        }

        // Event listener to show key link input
        document.getElementById('keySystem').addEventListener('change', function() {
            document.getElementById('keyLink').style.display = this.checked ? 'block' : 'none';
        });
    </script>
</body>
</html>
